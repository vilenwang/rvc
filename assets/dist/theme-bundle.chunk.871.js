"use strict";(self.webpackChunkflair_kings_road=self.webpackChunkflair_kings_road||[]).push([[871],{871:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x}),n(8838);var i=n(2557),o=n(469),r=n(4587),c=n(8426),a=n(8095),s=n(48),l=n.n(s),p=n(6808),h=n.n(p),u=n(5825),d=n(5155),f=n(986),b=n(5825);function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var x=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,g(e,n);var s=o.prototype;return s.onReady=function(){var t,e,n;(0,r.Z)(this.context.urls),b("#facetedSearch").length>0?this.initFacetedSearch():(this.onSortBySubmit=this.onSortBySubmit.bind(this),i.PT.on("sortBy-submitted",this.onSortBySubmit)),(this.context.enableSwatches||this.context.enableSizes)&&(0,f.Z)(this.context),this.context.enableInfiniteScrolling&&this.context.productCount<this.context.productTotal&&b(".pagination-link--next").length&&this.initInfiniteScroll(),this.context.enableNewsletterPopup&&(t=this.context.newsletterPopupDelay,e=this.context.reappearAfter,n=h().get("nlHide"),setTimeout((function(){n||u(".newsletterPopup-overlay").show().css("opacity","1")}),t),u(".newsletterPopup-dismiss").on("click",(function(t){t.preventDefault(),h().set("nlHide","1",{expires:e}),u(".newsletterPopup-overlay").css("opacity","0").hide()})),u(".newsletterPopup form").on("submit",(function(t){t.preventDefault(),h().set("nlHide","1",{expires:999}),this.submit()}))),(0,d.Z)(this.context)},s.initInfiniteScroll=function(t){var e=this,n=new(l())(".page-content",{path:".pagination-link--next",append:".productCategoryCompare",hideNav:".pagination",scrollThreshold:!1,button:".category-load-more-button",onInit:function(){b(".productCount").hide()}});n.on("append",(function(){(e.context.enableSwatches||e.context.enableSizes)&&(0,f.Z)(e.context),e.context.enableImageHoverSwitcher&&(0,a.Z)(),(0,d.Z)(e.context)})),t&&n.destroy()},s.initFacetedScroll=function(){var t=b(".pagination-link--next");b(".pagination-link--next").length&&this.initInfiniteScroll("rebuild"),t.length&&b(".pagination-link--next").length&&this.initInfiniteScroll()},s.initFacetedSearch=function(){var t=this,e=b("#product-listing-container"),n=b("#faceted-search-container"),i={config:{category:{shop_by_price:!0,products:{limit:this.context.categoryProductsPerPage}}},template:{productListing:"category/product-listing",sidebar:"category/sidebar"},showMore:"category/show-more"};this.facetedSearch=new c.Z(i,(function(i){e.html(i.productListing),n.html(i.sidebar),t.context.enableInfiniteScrolling&&t.initFacetedScroll(),b("html, body").animate({scrollTop:0},100),(0,d.Z)(t.context),(t.context.enableSwatches||t.context.enableSizes)&&(0,f.Z)(t.context),t.context.enableImageHoverSwitcher&&(0,a.Z)()}))},o}(o.Z)}}]);
//# sourceMappingURL=theme-bundle.chunk.871.js.map
